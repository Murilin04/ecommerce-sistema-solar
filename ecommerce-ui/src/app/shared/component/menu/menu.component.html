<header class="menu">
  <nav class="menu__nav">
    <ul class="menu__ul">
       <!-- Primeiro menu de 1¬∞ n√≠vel -->
      <li class="menu__li" title="Gerador de Energia Solar">
        <a class="menu__a">
          Gerador de Energia Solar
          <svg class="menu__svg" xmlns="http://www.w3.org/2000/svg" width="16" fill="currentColor" viewBox="0 0 16 16">
            <path fill-rule="evenodd"
              d="M.2.4c.4-.4 1-.5 1.4-.1l2.9 3 2.9-3c.4-.4 1.1-.4 1.4.1.3.4.3.9-.1 1.3L4.5 6 .3 1.6C-.1 1.3-.1.7.2.4z" />
          </svg>
        </a>

        <!-- submenu de 1¬∞ n√≠vel -->
        <ul class="submenu">
          <li class="submenu__one" title="On Grid" (click)="navigateTo('On Grid')">
            <a class="submenu__a">On Grid</a>
            <svg class="menu__svg-one" xmlns="http://www.w3.org/2000/svg" width="16" fill="currentColor" viewBox="0 0 16 16"
              style="transform: rotate(-90deg);" title="Abrir: On Grid">
              <path fill-rule="evenodd"
                d="M.2.4c.4-.4 1-.5 1.4-.1l2.9 3 2.9-3c.4-.4 1.1-.4 1.4.1.3.4.3.9-.1 1.3L4.5 6 .3 1.6C-.1 1.3-.1.7.2.4z" />
            </svg>

            <!-- Submenu de 2¬∫ n√≠vel -->
            <ul class="submenu">
              <li class="submenu__one" title="Sungrow" (click)="navigateTo('On-Grid', 'sungrow')">
                <a>Sungrow</a>
                <svg class="menu__svg-one" xmlns="http://www.w3.org/2000/svg" width="16" fill="currentColor" viewBox="0 0 16 16"
                  style="transform: rotate(-90deg);" title="Abrir: On Grid">
                  <path fill-rule="evenodd"
                    d="M.2.4c.4-.4 1-.5 1.4-.1l2.9 3 2.9-3c.4-.4 1.1-.4 1.4.1.3.4.3.9-.1 1.3L4.5 6 .3 1.6C-.1 1.3-.1.7.2.4z" />
                </svg>
                <ul class="submenu submenu__two">
                  <li class="submenu__one" title="Laje Inclina√ß√£o"><a>Laje Inclina√ß√£o</a></li>
                  <li class="submenu__one" title="Sem Estrutura"><a>Sem Estrutura</a></li>
                  <li class="submenu__one" title="Solo Mesa 8 Pain√©is"><a>Solo Mesa 8 Pain√©is</a></li>
                  <li class="submenu__one" title="Telhado Cer√¢mico"><a>Telhado Cer√¢mico</a></li>
                  <li class="submenu__one" title="Telhado Met√°lico Mini Trilho"><a>Telhado Met√°lico Mini Trilho</a></li>
                  <li class="submenu__one" title="Telhado Fibro Parafuso Madeira"><a>Telhado Fibro Parafuso Madeira</a></li>
                  <li class="submenu__one" title="Telhado Fibro Parafuso Metal"><a>Telhado Fibro Parafuso Metal</a></li>
                </ul>
              </li>

              <li class="submenu__one" title="SAJ">
                <a>SAJ</a>
                <svg class="menu__svg-one" xmlns="http://www.w3.org/2000/svg" width="16" fill="currentColor" viewBox="0 0 16 16"
                  style="transform: rotate(-90deg);" title="Abrir: On Grid">
                  <path fill-rule="evenodd"
                    d="M.2.4c.4-.4 1-.5 1.4-.1l2.9 3 2.9-3c.4-.4 1.1-.4 1.4.1.3.4.3.9-.1 1.3L4.5 6 .3 1.6C-.1 1.3-.1.7.2.4z" />
                </svg>
                <ul class="submenu submenu__two">
                  <li class="submenu__one" title="Laje Inclina√ß√£o"><a>Laje Inclina√ß√£o</a></li>
                  <li class="submenu__one" title="Sem Estrutura"><a>Sem Estrutura</a></li>
                  <li class="submenu__one" title="Solo Mesa 8 Pain√©is"><a>Solo Mesa 8 Pain√©is</a></li>
                  <li class="submenu__one" title="Telhado Cer√¢mico"><a>Telhado Cer√¢mico</a></li>
                  <li class="submenu__one" title="Telhado Met√°lico Mini Trilho"><a>Telhado Met√°lico Mini Trilho</a></li>
                  <li class="submenu__one" title="Telhado Fibro Parafuso Madeira"><a>Telhado Fibro Parafuso Madeira</a></li>
                  <li class="submenu__one" title="Telhado Fibro Parafuso Metal"><a>Telhado Fibro Parafuso Metal</a></li>
                </ul>
              </li>

              <li class="submenu__one" title="Solplanet">
                <a>Solplanet</a>
                <svg class="menu__svg-one" xmlns="http://www.w3.org/2000/svg" width="16" fill="currentColor" viewBox="0 0 16 16"
                  style="transform: rotate(-90deg);" title="Abrir: On Grid">
                  <path fill-rule="evenodd"
                    d="M.2.4c.4-.4 1-.5 1.4-.1l2.9 3 2.9-3c.4-.4 1.1-.4 1.4.1.3.4.3.9-.1 1.3L4.5 6 .3 1.6C-.1 1.3-.1.7.2.4z" />
                </svg>
                <ul class="submenu submenu__two">
                  <li class="submenu__one" title="Laje Inclina√ß√£o"><a>Laje Inclina√ß√£o</a></li>
                  <li class="submenu__one" title="Sem Estrutura"><a>Sem Estrutura</a></li>
                  <li class="submenu__one" title="Solo Mesa 8 Pain√©is"><a>Solo Mesa 8 Pain√©is</a></li>
                  <li class="submenu__one" title="Telhado Cer√¢mico"><a>Telhado Cer√¢mico</a></li>
                  <li class="submenu__one" title="Telhado Met√°lico Mini Trilho"><a>Telhado Met√°lico Mini Trilho</a></li>
                  <li class="submenu__one" title="Telhado Fibro Parafuso Madeira"><a>Telhado Fibro Parafuso Madeira</a></li>
                  <li class="submenu__one" title="Telhado Fibro Parafuso Metal"><a>Telhado Fibro Parafuso Metal</a></li>
                </ul>
              </li>

              <li class="submenu__one" title="Growatt">
                <a>Growatt</a>
                <svg class="menu__svg-one" xmlns="http://www.w3.org/2000/svg" width="16" fill="currentColor" viewBox="0 0 16 16"
                  style="transform: rotate(-90deg);" title="Abrir: On Grid">
                  <path fill-rule="evenodd"
                    d="M.2.4c.4-.4 1-.5 1.4-.1l2.9 3 2.9-3c.4-.4 1.1-.4 1.4.1.3.4.3.9-.1 1.3L4.5 6 .3 1.6C-.1 1.3-.1.7.2.4z" />
                </svg>
                <ul class="submenu submenu__two">
                  <li class="submenu__one" title="Laje Inclina√ß√£o"><a>Laje Inclina√ß√£o</a></li>
                  <li class="submenu__one" title="Sem Estrutura"><a>Sem Estrutura</a></li>
                  <li class="submenu__one" title="Solo Mesa 8 Pain√©is"><a>Solo Mesa 8 Pain√©is</a></li>
                  <li class="submenu__one" title="Telhado Cer√¢mico"><a>Telhado Cer√¢mico</a></li>
                  <li class="submenu__one" title="Telhado Met√°lico Mini Trilho"><a>Telhado Met√°lico Mini Trilho</a></li>
                  <li class="submenu__one" title="Telhado Fibro Parafuso Madeira"><a>Telhado Fibro Parafuso Madeira</a></li>
                  <li class="submenu__one" title="Telhado Fibro Parafuso Metal"><a>Telhado Fibro Parafuso Metal</a></li>
                </ul>
              </li>
            </ul>
          </li>
           <!-- submenu de 1¬∞ n√≠vel -->
        <li class="submenu__one" title="Off Grid Interativo" (click)="navigateTo('Off Grid Interativo')">
          <a>Off Grid Interativo</a>
          <svg class="menu__svg-one" xmlns="http://www.w3.org/2000/svg" width="16" fill="currentColor" viewBox="0 0 16 16"
            style="transform: rotate(-90deg);">
            <path fill-rule="evenodd"
              d="M.2.4c.4-.4 1-.5 1.4-.1l2.9 3 2.9-3c.4-.4 1.1-.4 1.4.1.3.4.3.9-.1 1.3L4.5 6 .3 1.6C-.1 1.3-.1.7.2.4z" />
          </svg>

          <!-- Submenu de 2¬∞ n√≠vel -->
          <ul class="submenu">
            <!-- Must -->
            <li class="submenu__one" title="Must">
              <a>Must</a>
              <svg class="menu__svg-one" xmlns="http://www.w3.org/2000/svg" width="16" fill="currentColor" viewBox="0 0 16 16"
                style="transform: rotate(-90deg);" title="Abrir: On Grid">
                <path fill-rule="evenodd"
                  d="M.2.4c.4-.4 1-.5 1.4-.1l2.9 3 2.9-3c.4-.4 1.1-.4 1.4.1.3.4.3.9-.1 1.3L4.5 6 .3 1.6C-.1 1.3-.1.7.2.4z" />
              </svg>

              <ul class="submenu submenu__two">
                <li class="submenu__one"><a>Laje Inclina√ß√£o</a></li>
                <li class="submenu__one"><a>Sem Estrutura</a></li>
                <li class="submenu__one"><a>Solo Mesa 8 Pain√©is</a></li>
                <li class="submenu__one"><a>Telhado Cer√¢mico Gancho</a></li>
                <li class="submenu__one"><a>Telhado Met√°lico Mini Trilho</a></li>
                <li class="submenu__one"><a>Telhado Fibro Parafuso Madeira</a></li>
                <li class="submenu__one"><a>Telhado Fibro Parafuso Metal</a></li>
                <li class="submenu__one"><a>Telhado Ondulado</a></li>
              </ul>
            </li>

            <!-- Luxpower -->
            <li class="submenu__one" title="Luxpower">
              <a>Luxpower</a>
              <svg class="menu__svg-one" xmlns="http://www.w3.org/2000/svg" width="16" fill="currentColor" viewBox="0 0 16 16"
                style="transform: rotate(-90deg);" title="Abrir: On Grid">
                <path fill-rule="evenodd"
                  d="M.2.4c.4-.4 1-.5 1.4-.1l2.9 3 2.9-3c.4-.4 1.1-.4 1.4.1.3.4.3.9-.1 1.3L4.5 6 .3 1.6C-.1 1.3-.1.7.2.4z" />
              </svg>

              <ul class="submenu submenu__two">
                <li class="submenu__one"><a>Laje Inclina√ß√£o</a></li>
                <li class="submenu__one"><a>Sem Estrutura</a></li>
                <li class="submenu__one"><a>Solo Mesa 8 Pain√©is</a></li>
                <li class="submenu__one"><a>Telhado Cer√¢mico Gancho</a></li>
                <li class="submenu__one"><a>Telhado Met√°lico Mini Trilho</a></li>
                <li class="submenu__one"><a>Telhado Fibro Parafuso Madeira</a></li>
                <li class="submenu__one"><a>Telhado Fibro Parafuso Metal</a></li>
                <li class="submenu__one"><a>Telhado Ondulado</a></li>
              </ul>
            </li>
          </ul>
        </li>
          <!-- submenu de 1¬∞ n√≠vel -->
          <li class="submenu__one" title="H√≠brido" (click)="navigateTo('Hibrido')">
            <a>H√≠brido</a>
            <svg class="menu__svg-one" xmlns="http://www.w3.org/2000/svg" width="16" fill="currentColor" viewBox="0 0 16 16"
              style="transform: rotate(-90deg);">
              <path fill-rule="evenodd"
                d="M.2.4c.4-.4 1-.5 1.4-.1l2.9 3 2.9-3c.4-.4 1.1-.4 1.4.1.3.4.3.9-.1 1.3L4.5 6 .3 1.6C-.1 1.3-.1.7.2.4z" />
            </svg>

            <!-- Submenu de 2¬∞ n√≠vel -->
            <ul class="submenu">
              <li class="submenu__one" title="Luxpower">
                <a>Luxpower</a>
                <svg class="menu__svg-one" xmlns="http://www.w3.org/2000/svg" width="16" fill="currentColor" viewBox="0 0 16 16"
                  style="transform: rotate(-90deg);" title="Abrir: On Grid">
                  <path fill-rule="evenodd"
                    d="M.2.4c.4-.4 1-.5 1.4-.1l2.9 3 2.9-3c.4-.4 1.1-.4 1.4.1.3.4.3.9-.1 1.3L4.5 6 .3 1.6C-.1 1.3-.1.7.2.4z" />
                </svg>

                <ul class="submenu submenu__two">
                  <li class="submenu__one"><a>Laje Inclina√ß√£o</a></li>
                  <li class="submenu__one"><a>Sem Estrutura</a></li>
                  <li class="submenu__one"><a>Solo Mesa 8 Pain√©is</a></li>
                  <li class="submenu__one"><a>Telhado Cer√¢mico Gancho</a></li>
                  <li class="submenu__one"><a>Telhado Met√°lico Mini Trilho</a></li>
                  <li class="submenu__one"><a>Telhado Fibro Parafuso Madeira</a></li>
                  <li class="submenu__one"><a>Telhado Fibro Parafuso Metal</a></li>
                  <li class="submenu__one"><a>Telhado Ondulado</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <!-- submenu de 1¬∞ n√≠vel -->
          <li class="submenu__one" title="Retrofit" (click)="navigateTo('Retrofit')">
            <a>Retrofit</a>
            <svg class="menu__svg-one" xmlns="http://www.w3.org/2000/svg" width="16" fill="currentColor" viewBox="0 0 16 16"
              style="transform: rotate(-90deg);">
              <path fill-rule="evenodd"
                d="M.2.4c.4-.4 1-.5 1.4-.1l2.9 3 2.9-3c.4-.4 1.1-.4 1.4.1.3.4.3.9-.1 1.3L4.5 6 .3 1.6C-.1 1.3-.1.7.2.4z" />
            </svg>

            <!-- Submenu de 2¬∞ n√≠vel -->
            <ul class="submenu">

              <!-- Must -->
              <li class="submenu__one" title="Must">
                <a>Must</a>
                <svg class="menu__svg-one" xmlns="http://www.w3.org/2000/svg" width="16" fill="currentColor" viewBox="0 0 16 16"
                  style="transform: rotate(-90deg);" title="Abrir: On Grid">
                  <path fill-rule="evenodd"
                    d="M.2.4c.4-.4 1-.5 1.4-.1l2.9 3 2.9-3c.4-.4 1.1-.4 1.4.1.3.4.3.9-.1 1.3L4.5 6 .3 1.6C-.1 1.3-.1.7.2.4z" />
                </svg>
                <ul class="submenu submenu__two">
                  <li class="submenu__one">
                    <a>Sem Estrutura</a>
                  </li>
                </ul>
              </li>

              <!-- Luxpower -->
              <li class="submenu__one" title="Luxpower">
                <a>Luxpower</a>
                <svg class="menu__svg-one" xmlns="http://www.w3.org/2000/svg" width="16" fill="currentColor" viewBox="0 0 16 16"
                  style="transform: rotate(-90deg);" title="Abrir: On Grid">
                  <path fill-rule="evenodd"
                    d="M.2.4c.4-.4 1-.5 1.4-.1l2.9 3 2.9-3c.4-.4 1.1-.4 1.4.1.3.4.3.9-.1 1.3L4.5 6 .3 1.6C-.1 1.3-.1.7.2.4z" />
                </svg>
                <ul class="submenu submenu__two">
                  <li class="submenu__one">
                    <a>Sem Estrutura</a>
                  </li>
                </ul>
              </li>

            </ul>
          </li>
           <!-- submenu de 1¬∞ n√≠vel -->
          <li class="submenu__one" title="Microinversor" (click)="navigateTo('Microinversor')">
            <a>Microinversor</a>
            <svg class="menu__svg-one" xmlns="http://www.w3.org/2000/svg" width="16" fill="currentColor" viewBox="0 0 16 16"
              style="transform: rotate(-90deg);">
              <path fill-rule="evenodd"
                d="M.2.4c.4-.4 1-.5 1.4-.1l2.9 3 2.9-3c.4-.4 1.1-.4 1.4.1.3.4.3.9-.1 1.3L4.5 6 .3 1.6C-.1 1.3-.1.7.2.4z" />
            </svg>

            <ul class="submenu">

              <!-- Growatt -->
              <li class="submenu__one" title="Growatt">
                <a>Growatt</a>
                <svg class="menu__svg-one" xmlns="http://www.w3.org/2000/svg" width="16" fill="currentColor" viewBox="0 0 16 16"
                  style="transform: rotate(-90deg);" title="Abrir: On Grid">
                  <path fill-rule="evenodd"
                    d="M.2.4c.4-.4 1-.5 1.4-.1l2.9 3 2.9-3c.4-.4 1.1-.4 1.4.1.3.4.3.9-.1 1.3L4.5 6 .3 1.6C-.1 1.3-.1.7.2.4z" />
                </svg>
                <ul class="submenu submenu__two">
                  <li class="submenu__one"><a>Laje Inclina√ß√£o</a></li>
                  <li class="submenu__one"><a>Sem Estrutura</a></li>
                  <li class="submenu__one"><a>Telhado Cer√¢mico Gancho</a></li>
                  <li class="submenu__one"><a>Telhado Met√°lico Mini Trilho</a></li>
                  <li class="submenu__one"><a>Telhado Fibro Parafuso Madeira</a></li>
                  <li class="submenu__one"><a>Telhado Fibro Parafuso Metal</a></li>
                  <li class="submenu__one"><a>Telhado Ondulado</a></li>
                </ul>
              </li>

              <!-- DEYE -->
              <li class="submenu__one" title="DEYE">
                <a>DEYE</a>
                <svg class="menu__svg-one" xmlns="http://www.w3.org/2000/svg" width="16" fill="currentColor" viewBox="0 0 16 16"
                  style="transform: rotate(-90deg);" title="Abrir: On Grid">
                  <path fill-rule="evenodd"
                    d="M.2.4c.4-.4 1-.5 1.4-.1l2.9 3 2.9-3c.4-.4 1.1-.4 1.4.1.3.4.3.9-.1 1.3L4.5 6 .3 1.6C-.1 1.3-.1.7.2.4z" />
                </svg>
                <ul class="submenu submenu__two">
                  <li class="submenu__one"><a>Laje Inclina√ß√£o</a></li>
                  <li class="submenu__one"><a>Sem Estrutura</a></li>
                  <li class="submenu__one"><a>Solo Mesa 8 Pain√©is</a></li>
                  <li class="submenu__one"><a>Telhado Cer√¢mico Gancho</a></li>
                  <li class="submenu__one"><a>Telhado Met√°lico MiniTrilho</a></li>
                  <li class="submenu__one"><a>Telhado Fibro Parafuso Madeira</a></li>
                  <li class="submenu__one"><a>Telhado Fibro Parafuso Metal</a></li>
                  <li class="submenu__one"><a>Telhado Ondulado</a></li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </nav>

  <div class="menu__button">
    <!-- Bot√µes de N√£o Autenticado -->
    <a *ngIf="!(isAuthenticated$ | async)" routerLink="/cadastro" class="menu__button-a" title="Seja Integrador">
      <span>Seja Integrador</span>
    </a>

    <a *ngIf="!(isAuthenticated$ | async)" class="menu__button-a" title="Entrar" (click)="openLogin()" #loginButton>
      <span>Entrar</span>
    </a>

    <!-- Menu Autenticado -->
    <div *ngIf="(isAuthenticated$ | async)" class="authenticated-menu">
      <button class="menu__button-links" (click)="toggleMenu()">
        <span class="menu-icon">‚ò∞</span>
        <span>Menu</span>
        <span class="dropdown-arrow" [class.open]="menuOpen">‚ñº</span>
      </button>

      <app-mini-cart></app-mini-cart>

      <!-- Menu Dropdown Customizado -->
      <div class="custom-dropdown" [class.show]="menuOpen">
        <button class="dropdown-item" routerLink="/perfil" *ngIf="(isAuthenticated$ | async)" (click)="closeMenu()">
          <span class="item-icon">üë§</span>
          <span class="item-text">Perfil</span>
        </button>

        <button class="dropdown-item" routerLink="/produtos" (click)="closeMenu()">
          <span class="item-icon">üì¶</span>
          <span class="item-text">Produtos</span>
        </button>

        <button class="dropdown-item" routerLink="/carrinho" (click)="closeMenu()">
          <span class="item-icon">üõí</span>
          <span class="item-text">Carrinho</span>
        </button>

        <button class="dropdown-item" routerLink="/meus-pedidos" (click)="closeMenu()">
          <span class="item-icon">üìã</span>
          <span class="item-text">Meus Pedidos</span>
        </button>

        <div class="menu-divider" *ngIf="isAdmin"></div>

        <button class="dropdown-item admin-item" *ngIf="isAdmin" routerLink="/admin/pedidos" (click)="closeMenu()">
          <span class="item-icon">‚öôÔ∏è</span>
          <span class="item-text">Gerenciar Pedidos</span>
        </button>

        <button class="dropdown-item admin-item" *ngIf="isAdmin" routerLink="/admin" (click)="closeMenu()">
          <span class="item-icon">üë•</span>
          <span class="item-text">Gerenciar Usu√°rios</span>
        </button>

        <button class="dropdown-item admin-item" *ngIf="isAdmin" routerLink="/admin/produtos" (click)="closeMenu()">
          <span class="item-icon">üìä</span>
          <span class="item-text">Gerenciar Produtos</span>
        </button>

        <div class="menu-divider"></div>

        <button class="dropdown-item logout-item" (click)="logout()">
          <span class="item-icon">üö™</span>
          <span class="item-text">Sair</span>
        </button>
      </div>
    </div>
  </div>

  <div *ngIf="showLogin" class="login-backdrop" (click)="closeLogin()"></div>

  <!-- Container do login -->
  <div *ngIf="showLogin" appClickOutside (clickOutside)="closeLogin()" class="login__container">
    <app-login (loginSuccess)="closeLogin()"></app-login>
  </div>

</header>
